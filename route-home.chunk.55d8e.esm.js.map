{"version":3,"sources":["webpack:///./routes/home/index.js"],"names":["Home","showAdvanced","amount","setAmount","useState","transferAmount","setTransferAmount","elevyAmount","setElevyAmount","elevyFormRef","useRef","elevyChargeRef","useEffect","elevyCharge","className","ref","method","for","tabIndex","type","name","placeholder","pattern","inputMode","value","toLocaleString","onInput","event","parsedAmount","parseInt","target","replaceAll","isNaN","id","onKeyUp","keyCode","current","focus","maximumFractionDigits","minimumFractionDigits","readOnly","onClick","e","preventDefault","preserveChoice","advanced"],"mappings":"6FAAA,+CAkJeA,UA9IF,EAAGC,mBACd,MACOC,EAAQC,GAAaC,YAAS,KAC9BC,EAAgBC,GAAqBF,YAAS,IAC9CG,EAAaC,GAAkBJ,YAAS,GAC/C,IAAIK,EAAeC,YAAO,MACtBC,EAAiBD,YAAO,MAE5BE,aAAU,KACR,GAAc,IAAVV,EACFI,EAAkB,GAClBE,EAAe,QACV,GAAIN,EAAS,IAAK,CACvB,IACIW,EAbS,MAYOX,EAAS,KAG7BI,EAD0BJ,EAASW,GAEnCL,EAAeK,QAEfP,EAAkBJ,GAClBM,EAAe,KAEhB,CAACN,IAkBJ,OACE,oBAAMY,UAAU,iBACd,oBAAMA,UAAU,gBAAgBC,IAAKN,EAAcO,OAAO,QACxD,mBAAKF,UAAU,yBACb,mBAAKA,UAAU,yBACb,kBAAIA,UAAU,eAAd,uBAGJ,mBAAKA,UAAU,mCACb,mBAAKA,UAAU,cACb,qBAAOG,IAAI,SAASH,UAAU,aAA9B,qBAGA,uBACE,qBACEI,SAAU,EACVC,KAAK,OACLC,KAAK,SACLC,YAAY,IACZC,QAAQ,UACRC,UAAU,UAEVC,MAAOtB,EAAOuB,eAAe,SAC7BC,QAvCQC,IACpB,MAAMC,EAAeC,SAASF,EAAMG,OAAON,MAAMO,WAAW,IAAK,IAAK,IACjEC,MAAMJ,GAITzB,EAAU,IAHVA,EAAUyB,IAqCAd,UAAU,aACVmB,GAAG,SACHC,QAhCKP,IACI,IAAjBA,EAAMQ,SACRxB,EAAeyB,QAAQC,WAgCf,oBAAMvB,UAAU,YAAhB,UAIN,mBAAKA,UAAU,mCACb,mBAAKA,UAAU,cACb,qBAAOG,IAAI,iBAAiBH,UAAU,aAAtC,iBAGA,uBACE,qBACEK,KAAK,OACLK,MAAQ,GAAEnB,EAAeoB,eAAe,QAAS,CAC/Ca,sBAAuB,EACvBC,sBAAuB,MAEzBC,UAAQ,EACRpB,KAAK,iBACLN,UAAU,gCACVmB,GAAG,mBAEL,oBAAMnB,UAAU,YAAhB,UAIN,mBAAKA,UAAU,yBACb,mBAAKA,UAAU,yBACb,oBAAMA,UAAU,aAAhB,kBACA,oBACEA,UAAU,qBACVI,SAAU,EACVH,IAAKJ,GAHP,QAKQ,IACJ,GAAEJ,EAAYkB,eAAe,QAAS,CACtCa,sBAAuB,EACvBC,sBAAuB,OAG3B,oBAAMzB,UAAU,aAAhB,qCAGJ,mBAAKA,UAAU,yBACb,mBAAKA,UAAU,yBACb,sBACEA,UAAU,mBACVK,KAAK,SACLsB,QAAUC,IACRA,EAAEC,iBACFC,YAAe,CACbC,UAAU,IAEZ5C,KACO,IATX,4BAgBJ,mBAAKa,UAAU,yBACb,mBAAKA,UAAU,yBACb,oBAAMA,UAAU,cAAhB","file":"route-home.chunk.55d8e.esm.js","sourcesContent":["import { h } from \"preact\";\r\nimport { useState, useEffect, useRef } from \"preact/hooks\";\r\nimport { preserveChoice } from \"../../utils/ux-enhancements\";\r\n\r\nconst Home = ({ showAdvanced }) => {\r\n  const elevyTax = 0.015; //1.5/100\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [transferAmount, setTransferAmount] = useState(0);\r\n  const [elevyAmount, setElevyAmount] = useState(0);\r\n  let elevyFormRef = useRef(null);\r\n  let elevyChargeRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (amount == \"\") {\r\n      setTransferAmount(0);\r\n      setElevyAmount(0);\r\n    } else if (amount > 100) {\r\n      let taxableAmount = amount - 100;\r\n      let elevyCharge = taxableAmount * elevyTax;\r\n      let totalTransferAmount = amount + elevyCharge;\r\n      setTransferAmount(totalTransferAmount);\r\n      setElevyAmount(elevyCharge);\r\n    } else {\r\n      setTransferAmount(amount);\r\n      setElevyAmount(0);\r\n    }\r\n  }, [amount]);\r\n\r\n  const handleChange = (event) => {\r\n    const parsedAmount = parseInt(event.target.value.replaceAll(\",\", \"\"), 10);\r\n    if (!isNaN(parsedAmount)) {\r\n      setAmount(parsedAmount);\r\n    } else {\r\n      // elevyFormRef.current.reportValidity();\r\n      setAmount(\"\");\r\n    }\r\n  };\r\n\r\n  const handleTab = (event) => {\r\n    if (event.keyCode == 13) {\r\n      elevyChargeRef.current.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"mainContainer\">\r\n      <form className=\"gridContainer\" ref={elevyFormRef} method=\"POST\">\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <h1 className=\"displayText\">E-LEVY CALCULATOR</h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFullMobileOnly\">\r\n          <div className=\"inputGroup\">\r\n            <label for=\"amount\" className=\"labelText\">\r\n              You want to send:\r\n            </label>\r\n            <div>\r\n              <input\r\n                tabIndex={1}\r\n                type=\"text\"\r\n                name=\"amount\"\r\n                placeholder=\"0\"\r\n                pattern=\"[0-9,.]\"\r\n                inputMode=\"numeric\"\r\n                // required\r\n                value={amount.toLocaleString(\"en-US\")}\r\n                onInput={handleChange}\r\n                className=\"inputField\"\r\n                id=\"amount\"\r\n                onKeyUp={handleTab}\r\n              />\r\n              <span className=\"currency\">GHS</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFullMobileOnly\">\r\n          <div className=\"inputGroup\">\r\n            <label for=\"transferAmount\" className=\"labelText\">\r\n              You will pay:\r\n            </label>\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                value={`${transferAmount.toLocaleString(\"en-US\", {\r\n                  maximumFractionDigits: 2,\r\n                  minimumFractionDigits: 2,\r\n                })}`}\r\n                readOnly\r\n                name=\"transferAmount\"\r\n                className=\"inputField inputFieldEmphasis\"\r\n                id=\"transferAmount\"\r\n              />\r\n              <span className=\"currency\">GHS</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <span className=\"labelText\">E-Levy Charge:</span>\r\n            <span\r\n              className=\"displayText charge\"\r\n              tabIndex={2}\r\n              ref={elevyChargeRef}\r\n            >\r\n              + GHS{\" \"}\r\n              {`${elevyAmount.toLocaleString(\"en-US\", {\r\n                maximumFractionDigits: 2,\r\n                minimumFractionDigits: 2,\r\n              })}`}\r\n            </span>\r\n            <span className=\"labelText\">Rate: 1.5%, first 100GHS exempt</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <button\r\n              className=\"labelText button\"\r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                preserveChoice({\r\n                  advanced: true,\r\n                });\r\n                showAdvanced();\r\n                return false;\r\n              }}\r\n            >\r\n              Click for more Options\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <span className=\"disclaimer\">\r\n              Disclaimer: We did our best to provide accurate results however,\r\n              you may experience differences in real-world usage.\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      {/* <span className=\"footer\">Made with love</span> */}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}