{"version":3,"sources":["webpack:///./routes/home/index.js","webpack:///./components/form/BuyMeACoffee.js"],"names":["Home","showAdvanced","useState","amount","setAmount","transferAmount","setTransferAmount","elevyAmount","setElevyAmount","elevyFormRef","useRef","elevyChargeRef","useEffect","elevyCharge","className","ref","method","for","tabIndex","type","name","placeholder","pattern","inputMode","value","toLocaleString","onInput","event","parsedAmount","parseInt","target","replaceAll","isNaN","id","onKeyUp","keyCode","current","focus","maximumFractionDigits","minimumFractionDigits","readOnly","onClick","e","preventDefault","preserveChoice","advanced","BuyMeACoffee","script","document","createElement","div","getElementById","setAttribute","onload","evt","createEvent","initEvent","window","dispatchEvent","appendChild"],"mappings":"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","file":"route-home.chunk.d7f28.js","sourcesContent":["import { h } from \"preact\";\r\nimport { useState, useEffect, useRef } from \"preact/hooks\";\r\nimport BuyMeACoffee from \"../../components/form/BuyMeACoffee\";\r\nimport { preserveChoice } from \"../../utils/ux-enhancements\";\r\n\r\nconst Home = ({ showAdvanced }) => {\r\n  const elevyTax = 0.015; //1.5/100\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [transferAmount, setTransferAmount] = useState(0);\r\n  const [elevyAmount, setElevyAmount] = useState(0);\r\n  let elevyFormRef = useRef(null);\r\n  let elevyChargeRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (amount == \"\") {\r\n      setTransferAmount(0);\r\n      setElevyAmount(0);\r\n    } else if (amount > 100) {\r\n      let taxableAmount = amount - 100;\r\n      let elevyCharge = taxableAmount * elevyTax;\r\n      let totalTransferAmount = amount + elevyCharge;\r\n      setTransferAmount(totalTransferAmount);\r\n      setElevyAmount(elevyCharge);\r\n    } else {\r\n      setTransferAmount(amount);\r\n      setElevyAmount(0);\r\n    }\r\n  }, [amount]);\r\n\r\n  const handleChange = (event) => {\r\n    const parsedAmount = parseInt(event.target.value.replaceAll(\",\", \"\"), 10);\r\n    if (!isNaN(parsedAmount)) {\r\n      setAmount(parsedAmount);\r\n    } else {\r\n      // elevyFormRef.current.reportValidity();\r\n      setAmount(\"\");\r\n    }\r\n  };\r\n\r\n  const handleTab = (event) => {\r\n    if (event.keyCode == 13) {\r\n      elevyChargeRef.current.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"mainContainer\">\r\n      <form className=\"gridContainer\" ref={elevyFormRef} method=\"POST\">\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <h1 className=\"displayText\">E-LEVY CALCULATOR</h1>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFullMobileOnly\">\r\n          <div className=\"inputGroup\">\r\n            <label for=\"amount\" className=\"labelText\">\r\n              You want to send:\r\n            </label>\r\n            <div>\r\n              <input\r\n                tabIndex={1}\r\n                type=\"text\"\r\n                name=\"amount\"\r\n                placeholder=\"0\"\r\n                pattern=\"[0-9,.]\"\r\n                inputMode=\"numeric\"\r\n                // required\r\n                value={amount.toLocaleString(\"en-US\")}\r\n                onInput={handleChange}\r\n                className=\"inputField\"\r\n                id=\"amount\"\r\n                onKeyUp={handleTab}\r\n              />\r\n              <span className=\"currency\">GHS</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFullMobileOnly\">\r\n          <div className=\"inputGroup\">\r\n            <label for=\"transferAmount\" className=\"labelText\">\r\n              You will pay:\r\n            </label>\r\n            <div>\r\n              <input\r\n                type=\"text\"\r\n                value={`${transferAmount.toLocaleString(\"en-US\", {\r\n                  maximumFractionDigits: 2,\r\n                  minimumFractionDigits: 2,\r\n                })}`}\r\n                readOnly\r\n                name=\"transferAmount\"\r\n                className=\"inputField inputFieldEmphasis\"\r\n                id=\"transferAmount\"\r\n              />\r\n              <span className=\"currency\">GHS</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <span className=\"labelText\">E-Levy Charge:</span>\r\n            <span\r\n              className=\"displayText charge\"\r\n              tabIndex={2}\r\n              ref={elevyChargeRef}\r\n            >\r\n              + GHS{\" \"}\r\n              {`${elevyAmount.toLocaleString(\"en-US\", {\r\n                maximumFractionDigits: 2,\r\n                minimumFractionDigits: 2,\r\n              })}`}\r\n            </span>\r\n            <span className=\"labelText\">Rate: 1.5%, first 100GHS exempt</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <button\r\n              className=\"labelText button\"\r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                preserveChoice({\r\n                  advanced: true,\r\n                });\r\n                showAdvanced();\r\n                return false;\r\n              }}\r\n            >\r\n              Click for more Options\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"gridItem gridItemFull\">\r\n          <div className=\"inputGroup centerFlex\">\r\n            <span className=\"disclaimer\">\r\n              Disclaimer: We did our best to provide accurate results, however\r\n              you may experience differences in real-world usage.\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <BuyMeACoffee />\r\n      {/* <span className=\"footer\">Made with love</span> */}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { h } from \"preact\";\r\nimport { useEffect } from \"preact/hooks\";\r\n\r\nconst BuyMeACoffee = () => {\r\n  // const\r\n  useEffect(() => {\r\n    const script = document.createElement(\"script\");\r\n    const div = document.getElementById(\"supportByBMC\");\r\n    script.setAttribute(\r\n      \"src\",\r\n      \"https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js\"\r\n    );\r\n    script.setAttribute(\"data-name\", \"BMC-Widget\");\r\n    script.setAttribute(\"data-cfasync\", \"false\");\r\n    script.setAttribute(\"data-id\", \"dolyanne\");\r\n    script.setAttribute(\"data-description\", \"Support me on Buy me a coffee!\");\r\n    script.setAttribute(\r\n      \"data-message\",\r\n      \"Buy me a Coffee\"\r\n    );\r\n    script.setAttribute(\"data-color\", \"#40DCA5\");\r\n    script.setAttribute(\"data-position\", \"Right\");\r\n    script.setAttribute(\"data-x_margin\", \"18\");\r\n    script.setAttribute(\"data-y_margin\", \"18\");\r\n\r\n    script.onload = function () {\r\n      var evt = document.createEvent(\"Event\");\r\n      evt.initEvent(\"DOMContentLoaded\", false, false);\r\n      window.dispatchEvent(evt);\r\n    };\r\n\r\n    div.appendChild(script);\r\n  }, []);\r\n\r\n  return <div id=\"supportByBMC\" />;\r\n};\r\n\r\nexport default BuyMeACoffee;\r\n"],"sourceRoot":""}