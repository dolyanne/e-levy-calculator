{"version":3,"sources":["webpack:///./components/global/GetOnGooglePlay.js","webpack:///./routes/home/index.js"],"names":["GetOnGooglePlay","showBadge","setShowBadge","useState","useEffect","pwaDisplayMode","isStandalone","window","matchMedia","matches","document","referrer","startsWith","navigator","standalone","getPWADisplayMode","console","log","href","target","rel","alt","height","src","Home","showAdvanced","amount","setAmount","transferAmount","setTransferAmount","elevyAmount","setElevyAmount","elevyFormRef","useRef","elevyChargeRef","elevyCharge","className","ref","method","for","tabIndex","type","name","placeholder","pattern","inputMode","value","toLocaleString","onInput","event","parsedAmount","parseInt","replaceAll","isNaN","id","onKeyUp","keyCode","current","focus","maximumFractionDigits","minimumFractionDigits","readOnly","onClick","e","preventDefault","preserveChoice","advanced"],"mappings":"4FAAA,wCAyCeA,IA5BS,KACtB,MAAOC,EAAWC,GAAgBC,aAAS,GAQ3C,OAPAC,aAAU,KACR,MAAMC,EAbV,WACE,MAAMC,EAAeC,OAAOC,WAAW,8BAA8BC,QACrE,OAAIC,SAASC,SAASC,WAAW,kBACxB,MACEC,UAAUC,YAAcR,EAC1B,aAEF,SACT,CAK2BS,GACvBC,QAAQC,IAAI,iBAAkBZ,GACP,QAAnBA,GACFH,GAAa,EACf,GACC,IAED,mBACGD,GACC,iBACEiB,KAAK,0JACLC,OAAO,SACPC,IAAI,uBAEJ,mBACEC,IAAI,wBACJC,OAAQ,GACRC,IAAI,6FAIT,C,oECrCP,2DAwJeC,UAnJF,EAAGC,mBACd,MACOC,EAAQC,GAAaxB,YAAS,KAC9ByB,EAAgBC,GAAqB1B,YAAS,IAC9C2B,EAAaC,GAAkB5B,YAAS,GAC/C,IAAI6B,EAAeC,YAAO,MACtBC,EAAiBD,YAAO,MAE5B7B,aAAU,KACR,GAAc,IAAVsB,EACFG,EAAkB,GAClBE,EAAe,QACV,GAAIL,EAAS,IAAK,CACvB,IACIS,EAbS,KAYOT,EAAS,KAG7BG,EAD0BH,EAASS,GAEnCJ,EAAeI,EACjB,MACEN,EAAkBH,GAClBK,EAAe,EACjB,GACC,CAACL,IAkBJ,OACE,oBAAMU,UAAU,iBACd,oBAAMA,UAAU,gBAAgBC,IAAKL,EAAcM,OAAO,QACxD,mBAAKF,UAAU,yBACb,mBAAKA,UAAU,yBACb,kBAAIA,UAAU,eAAc,uBAGhC,mBAAKA,UAAU,mCACb,mBAAKA,UAAU,cACb,qBAAOG,IAAI,SAASH,UAAU,aAAY,qBAG1C,uBACE,qBACEI,SAAU,EACVC,KAAK,OACLC,KAAK,SACLC,YAAY,IACZC,QAAQ,UACRC,UAAU,UAEVC,MAAOpB,EAAOqB,eAAe,SAC7BC,QAvCOC,IACnB,MAAMC,EAAeC,SAASF,EAAM9B,OAAO2B,MAAMM,WAAW,IAAK,IAAK,IACjEC,MAAMH,GAITvB,EAAU,IAHVA,EAAUuB,EAIZ,EAiCYd,UAAU,aACVkB,GAAG,SACHC,QAhCIN,IACK,IAAjBA,EAAMO,SACRtB,EAAeuB,QAAQC,OACzB,IA+BU,oBAAMtB,UAAU,YAAW,UAIjC,mBAAKA,UAAU,mCACb,mBAAKA,UAAU,cACb,qBAAOG,IAAI,iBAAiBH,UAAU,aAAY,iBAGlD,uBACE,qBACEK,KAAK,OACLK,MAAQ,GAAElB,EAAemB,eAAe,QAAS,CAC/CY,sBAAuB,EACvBC,sBAAuB,MAEzBC,UAAQ,EACRnB,KAAK,iBACLN,UAAU,gCACVkB,GAAG,mBAEL,oBAAMlB,UAAU,YAAW,UAIjC,mBAAKA,UAAU,yBACb,mBAAKA,UAAU,yBACb,oBAAMA,UAAU,aAAY,kBAC5B,oBACEA,UAAU,qBACVI,SAAU,EACVH,IAAKH,GACN,QACO,IACJ,GAAEJ,EAAYiB,eAAe,QAAS,CACtCY,sBAAuB,EACvBC,sBAAuB,OAG3B,oBAAMxB,UAAU,aAAY,mCAGhC,mBAAKA,UAAU,yBACb,mBAAKA,UAAU,yBACb,sBACEA,UAAU,mBACVK,KAAK,SACLqB,QAASC,IACPA,EAAEC,iBACFC,YAAe,CACbC,UAAU,IAEZzC,KACO,IAEV,4BAKL,mBAAKW,UAAU,yBACb,mBAAKA,UAAU,yBACb,YAAC,IAAe,QAGpB,mBAAKA,UAAU,yBACb,mBAAKA,UAAU,yBACb,oBAAMA,UAAU,cAAa,2HAQ9B,C","file":"route-home.chunk.ff778.esm.js","sourcesContent":["import { h } from 'preact'\r\nimport { useEffect, useState } from 'preact/hooks'\r\n\r\nfunction getPWADisplayMode () {\r\n  const isStandalone = window.matchMedia('(display-mode: standalone)').matches\r\n  if (document.referrer.startsWith('android-app://')) {\r\n    return 'twa'\r\n  } else if (navigator.standalone || isStandalone) {\r\n    return 'standalone'\r\n  }\r\n  return 'browser'\r\n}\r\n\r\nconst GetOnGooglePlay = () => {\r\n  const [showBadge, setShowBadge] = useState(false)\r\n  useEffect(() => {\r\n    const pwaDisplayMode = getPWADisplayMode()\r\n    console.log('pwaDisplayMode', pwaDisplayMode)\r\n    if (pwaDisplayMode !== 'twa') {\r\n      setShowBadge(true)\r\n    }\r\n  }, [])\r\n  return (\r\n    <>\r\n      {showBadge && (\r\n        <a\r\n          href='https://play.google.com/store/apps/details?id=com.e_levy_calculator.www.twa&pcampaignid=pcampaignidMKT-Other-global-all-co-prtnr-py-PartBadge-Mar2515-1'\r\n          target='_blank'\r\n          rel='noopener noreferrer'\r\n        >\r\n          <img\r\n            alt='Get it on Google Play'\r\n            height={70}\r\n            src='https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png'\r\n          />\r\n        </a>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default GetOnGooglePlay\r\n","import { h } from 'preact'\r\nimport { useState, useEffect, useRef } from 'preact/hooks'\r\nimport GetOnGooglePlay from '../../components/global/GetOnGooglePlay'\r\nimport { preserveChoice } from '../../utils/ux-enhancements'\r\n\r\nconst Home = ({ showAdvanced }) => {\r\n  const elevyTax = 0.01 //1/100\r\n  const [amount, setAmount] = useState('')\r\n  const [transferAmount, setTransferAmount] = useState(0)\r\n  const [elevyAmount, setElevyAmount] = useState(0)\r\n  let elevyFormRef = useRef(null)\r\n  let elevyChargeRef = useRef(null)\r\n\r\n  useEffect(() => {\r\n    if (amount == '') {\r\n      setTransferAmount(0)\r\n      setElevyAmount(0)\r\n    } else if (amount > 100) {\r\n      let taxableAmount = amount - 100\r\n      let elevyCharge = taxableAmount * elevyTax\r\n      let totalTransferAmount = amount + elevyCharge\r\n      setTransferAmount(totalTransferAmount)\r\n      setElevyAmount(elevyCharge)\r\n    } else {\r\n      setTransferAmount(amount)\r\n      setElevyAmount(0)\r\n    }\r\n  }, [amount])\r\n\r\n  const handleChange = event => {\r\n    const parsedAmount = parseInt(event.target.value.replaceAll(',', ''), 10)\r\n    if (!isNaN(parsedAmount)) {\r\n      setAmount(parsedAmount)\r\n    } else {\r\n      // elevyFormRef.current.reportValidity();\r\n      setAmount('')\r\n    }\r\n  }\r\n\r\n  const handleTab = event => {\r\n    if (event.keyCode == 13) {\r\n      elevyChargeRef.current.focus()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <main className='mainContainer'>\r\n      <form className='gridContainer' ref={elevyFormRef} method='POST'>\r\n        <div className='gridItem gridItemFull'>\r\n          <div className='inputGroup centerFlex'>\r\n            <h1 className='displayText'>E-LEVY CALCULATOR</h1>\r\n          </div>\r\n        </div>\r\n        <div className='gridItem gridItemFullMobileOnly'>\r\n          <div className='inputGroup'>\r\n            <label for='amount' className='labelText'>\r\n              You want to send:\r\n            </label>\r\n            <div>\r\n              <input\r\n                tabIndex={1}\r\n                type='text'\r\n                name='amount'\r\n                placeholder='0'\r\n                pattern='[0-9,.]'\r\n                inputMode='numeric'\r\n                // required\r\n                value={amount.toLocaleString('en-US')}\r\n                onInput={handleChange}\r\n                className='inputField'\r\n                id='amount'\r\n                onKeyUp={handleTab}\r\n              />\r\n              <span className='currency'>GHS</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='gridItem gridItemFullMobileOnly'>\r\n          <div className='inputGroup'>\r\n            <label for='transferAmount' className='labelText'>\r\n              You will pay:\r\n            </label>\r\n            <div>\r\n              <input\r\n                type='text'\r\n                value={`${transferAmount.toLocaleString('en-US', {\r\n                  maximumFractionDigits: 2,\r\n                  minimumFractionDigits: 2\r\n                })}`}\r\n                readOnly\r\n                name='transferAmount'\r\n                className='inputField inputFieldEmphasis'\r\n                id='transferAmount'\r\n              />\r\n              <span className='currency'>GHS</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='gridItem gridItemFull'>\r\n          <div className='inputGroup centerFlex'>\r\n            <span className='labelText'>E-Levy Charge:</span>\r\n            <span\r\n              className='displayText charge'\r\n              tabIndex={2}\r\n              ref={elevyChargeRef}\r\n            >\r\n              + GHS{' '}\r\n              {`${elevyAmount.toLocaleString('en-US', {\r\n                maximumFractionDigits: 2,\r\n                minimumFractionDigits: 2\r\n              })}`}\r\n            </span>\r\n            <span className='labelText'>Rate: 1%, first 100GHS exempt</span>\r\n          </div>\r\n        </div>\r\n        <div className='gridItem gridItemFull'>\r\n          <div className='inputGroup centerFlex'>\r\n            <button\r\n              className='labelText button'\r\n              type='button'\r\n              onClick={e => {\r\n                e.preventDefault()\r\n                preserveChoice({\r\n                  advanced: true\r\n                })\r\n                showAdvanced()\r\n                return false\r\n              }}\r\n            >\r\n              Click for more Options\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className='gridItem gridItemFull'>\r\n          <div className='inputGroup centerFlex'>\r\n            <GetOnGooglePlay />\r\n          </div>\r\n        </div>\r\n        <div className='gridItem gridItemFull'>\r\n          <div className='inputGroup centerFlex'>\r\n            <span className='disclaimer'>\r\n              Disclaimer: We did our best to provide accurate results however,\r\n              you may experience differences in real-world usage.\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      {/* <span className=\"footer\">Made with love</span> */}\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"],"sourceRoot":""}